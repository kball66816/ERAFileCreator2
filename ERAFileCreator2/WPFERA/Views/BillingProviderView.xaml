<UserControl x:Class="EraView.Views.BillingProviderView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:common="clr-namespace:Common.Common;assembly=Common.Common"
             xmlns:viewModel="clr-namespace:PatientManagement.ViewModel;assembly=PatientManagement.ViewModel"
             mc:Ignorable="d">
    <UserControl.DataContext>
        <viewModel:BillingProviderViewModel/>
    </UserControl.DataContext>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition />
            <RowDefinition />
            <RowDefinition />
            <RowDefinition />
        </Grid.RowDefinitions>
        <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="4"
                   Text="Billing Provider" FontSize="16" TextDecorations="Underline"
                   Margin="10,0,0,0"/>
        <CheckBox Content="Use Individual Provider" Grid.Row="1" Grid.Column="0"
                  Name="IsIndividualBillingTag"
                  Margin="10,10,0,0"/>
        <TextBlock Name="BillingProviderNameTag" Grid.Row="2" Grid.Column="0"
                   Text="Billing Provider's Name*"
                   HorizontalAlignment="Left"
                   VerticalAlignment="Bottom"
                   Margin="10,0,0,26"/>
        <TextBox Name="BillingProviderNameInput" Grid.Row="2" Grid.Column="0"
                 Width="110"
                 Margin="10,20,0,0"
                 HorizontalAlignment="Left"
                 IsEnabled="{Binding IsChecked, Converter={StaticResource NotConverter}, ElementName=IsIndividualBillingTag}">
            <Validation.ErrorTemplate>
                <ControlTemplate>
                    <DockPanel >
                        <Border BorderBrush="Red" BorderThickness="2">
                            <AdornedElementPlaceholder/>
                        </Border>
                    </DockPanel>
                </ControlTemplate>
            </Validation.ErrorTemplate>
            <Binding Path="BillingProvider.FullName" UpdateSourceTrigger="PropertyChanged">
                <Binding.ValidationRules>
                    <common:StringValidationRule ValidationStep="RawProposedValue"/>
                </Binding.ValidationRules>
            </Binding>
        </TextBox>
        <TextBlock Name="BillingProviderFirstNameTag" Grid.Row="2" Grid.Column="1"                                                      
                   Text="Provider's First Name"
                   Margin="10,0,0,0"/>
        <TextBox Name="BillingProviderFirstNameInput" Grid.Row="2" Grid.Column="1"
                 Width="115"
                 Margin="10,20,0,0"
                 HorizontalAlignment="Left"
                 IsEnabled="{Binding IsChecked, ElementName=IsIndividualBillingTag}">
            <Validation.ErrorTemplate>
                <ControlTemplate>
                    <DockPanel >
                        <Border BorderBrush="Red" BorderThickness="2">
                            <AdornedElementPlaceholder/>
                        </Border>
                    </DockPanel>
                </ControlTemplate>
            </Validation.ErrorTemplate>
            <Binding Path="BillingProvider.FirstName" UpdateSourceTrigger="PropertyChanged">
                <Binding.ValidationRules>
                    <common:StringValidationRule ValidationStep="RawProposedValue"/>
                </Binding.ValidationRules>
            </Binding>
        </TextBox>
        <TextBlock Name="BillingProviderLastNameTag"    Grid.Row="2" Grid.Column="2"                                                                                                     
                   Text="Provider's Last Name"
                   Margin="10,0,0,0"/>
        <TextBox Name="BillingProviderLastNameInput" Grid.Row="2" Grid.Column="2"
                 IsEnabled="{Binding IsChecked, ElementName=IsIndividualBillingTag, Mode=TwoWay}"
                 Width="115"
                 Margin="10,20,0,0"
                 HorizontalAlignment="Left">
            <Validation.ErrorTemplate>
                <ControlTemplate>
                    <DockPanel >
                        <Border BorderBrush="Red" BorderThickness="2">
                            <AdornedElementPlaceholder/>
                        </Border>
                    </DockPanel>
                </ControlTemplate>
            </Validation.ErrorTemplate>
            <Binding Path="BillingProvider.LastName" UpdateSourceTrigger="PropertyChanged">
                <Binding.ValidationRules>
                    <common:StringValidationRule ValidationStep="RawProposedValue"/>
                </Binding.ValidationRules>
            </Binding>
        </TextBox>
        <TextBlock Name="BillingProviderNpiTag" Grid.Row="2" Grid.Column="3"
                   Text="Provider's NPI*"
                   Margin="10,0,0,0"
                   HorizontalAlignment="Left"
                   VerticalAlignment="Top"/>
        <TextBox Name="BillingProviderNpiInput" Grid.Row="2" Grid.Column="3"
                 Width="115"
                 MaxLength="10"
                 Margin="10,20,0,0"
                 HorizontalAlignment="Left">
            <Validation.ErrorTemplate>
                <ControlTemplate>
                    <DockPanel >
                        <Border BorderBrush="Red" BorderThickness="2">
                            <AdornedElementPlaceholder/>
                        </Border>
                    </DockPanel>
                </ControlTemplate>
            </Validation.ErrorTemplate>
            <Binding Path="BillingProvider.Npi" UpdateSourceTrigger="PropertyChanged">
                <Binding.ValidationRules>
                    <common:NpivalidationRule ValidationStep="RawProposedValue"/>
                </Binding.ValidationRules>
            </Binding>
        </TextBox>
        <TextBlock Name="BillingProviderLineOneTag" Grid.Row="3" Grid.Column="0"
                   Margin="10,0,0,0"
                   VerticalAlignment="Top"
                   Text="Street Line One*"/>
        <TextBox x:Name="ProviderAddressLineOneInput" Grid.Row="3" Grid.Column="0"
                 Width="115"
                 Margin="10,20,0,0"
                 HorizontalAlignment="Left">
            <Validation.ErrorTemplate>
                <ControlTemplate>
                    <DockPanel >
                        <Border BorderBrush="Red" BorderThickness="2">
                            <AdornedElementPlaceholder/>
                        </Border>
                    </DockPanel>
                </ControlTemplate>
            </Validation.ErrorTemplate>
            <Binding Path="BillingProvider.Address.StreetOne" UpdateSourceTrigger="PropertyChanged">
                <Binding.ValidationRules>
                    <common:StringValidationRule ValidationStep="RawProposedValue"/>
                </Binding.ValidationRules>
            </Binding>
        </TextBox>
        <TextBlock Name="BillingProviderAddressTwoTag" Grid.Row="3" Grid.Column="1"
                   VerticalAlignment="Top"
                   HorizontalAlignment="Left"
                   Margin="10,0,0,0"
                   Text="Street Line Two" Width="80"/>
        <TextBox Name="BillingProviderAddressTwoInput" Grid.Row="3" Grid.Column="1"
                 Margin="10,20,0,0"
                 Width="115"
                 HorizontalAlignment="Left">
            <Validation.ErrorTemplate>
                <ControlTemplate>
                    <DockPanel >
                        <Border BorderBrush="Red" BorderThickness="2">
                            <AdornedElementPlaceholder/>
                        </Border>
                    </DockPanel>
                </ControlTemplate>
            </Validation.ErrorTemplate>
            <Binding Path="BillingProvider.Address.StreetTwo" UpdateSourceTrigger="PropertyChanged">
                <Binding.ValidationRules>
                    <common:StringValidationRule ValidationStep="RawProposedValue"/>
                </Binding.ValidationRules>
            </Binding>
        </TextBox>
        <TextBlock Name="BillingProviderCityTag" Grid.Row="3" Grid.Column="2"
                   Margin="10,0,0,0"
                   VerticalAlignment="Top"
                   HorizontalAlignment="Left"
                   Text="City" Width="20"/>
        <TextBox Name="BillingProviderCityInput" Grid.Row="3" Grid.Column="2"
                 Width="115"
                 HorizontalAlignment="Left"
                 Margin="10,20,0,0">
            <Validation.ErrorTemplate>
                <ControlTemplate>
                    <DockPanel >
                        <Border BorderBrush="Red" BorderThickness="2">
                            <AdornedElementPlaceholder/>
                        </Border>
                    </DockPanel>
                </ControlTemplate>
            </Validation.ErrorTemplate>
            <Binding Path="BillingProvider.Address.City" UpdateSourceTrigger="PropertyChanged">
                <Binding.ValidationRules>
                    <common:StringValidationRule ValidationStep="RawProposedValue"/>
                </Binding.ValidationRules>
            </Binding>
        </TextBox>
        <TextBlock Name="BillingProviderStateTag" Grid.Row="3" Grid.Column="3"
                   VerticalAlignment="Top"
                   Margin="10,0,0,0"
                   Text="State"/>
        <ComboBox Name="BillingProviderStateInput"  Grid.Row="3" Grid.Column="3"
                  Margin="10,20,0,0"
                  Width="115"
                  ItemsSource="{Binding ProviderStates}"
                  SelectedValuePath="Value"
                  DisplayMemberPath="Key"
                  SelectedValue="{Binding BillingProvider.Address.State}"
                  HorizontalAlignment="Left"/>
        <TextBlock Name="BillingProviderZipCodeTag" Grid.Row="3" Grid.Column="4"
                   VerticalAlignment="Top"
                   Margin="10,0,0,0"
                   Text="Zip Code"/>
        <TextBox Name="BillingProviderZipCodeInput" Grid.Row="3" Grid.Column="4"
                 Width="115"
                 Margin="10,0,0,0"
                 MaxLength="9"
                 HorizontalAlignment="Left"
                 VerticalAlignment="Bottom">
            <Validation.ErrorTemplate>
                <ControlTemplate>
                    <DockPanel >
                        <Border BorderBrush="Red" BorderThickness="2">
                            <AdornedElementPlaceholder/>
                        </Border>
                    </DockPanel>
                </ControlTemplate>
            </Validation.ErrorTemplate>
            <Binding Path="BillingProvider.Address.ZipCode" UpdateSourceTrigger="PropertyChanged">
                <Binding.ValidationRules>
                    <common:ZipCodeValidationRule ValidationStep="RawProposedValue"/>
                </Binding.ValidationRules>
            </Binding>
        </TextBox>
    </Grid>
</UserControl>
